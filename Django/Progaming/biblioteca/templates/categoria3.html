<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Cargar el sistema de archivos estáticos -->
  {% load static %}

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- Tus estilos -->
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">

  <!-- Flechas -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- dynamicMenu.js -->
  <script src="{% static 'js/dynamicMenu.js' %}" defer></script>

  <title>PROGAMING</title>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="top-right-buttons">
      {% if user.is_authenticated %}
        <span class="welcome-message" style="color: white; font-weight: bold; font-size: 1.2rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);">
          Bienvenido, {{ user.username }}!
        </span>
    
        <form method="POST" action="{% url 'logout' %}" style="display: inline;">
          {% csrf_token %}
          <button type="submit" class="btn-login">Cerrar sesión</button>
        </form>
    
      {% else %}
        <a href="{% url 'login' %}"><button class="btn-login">Iniciar sesión</button></a>
        <a href="{% url 'crear' %}"><button class="btn-registro">Registro</button></a>
      {% endif %}
    </div>

    <!-- Fondo sin control -->
    <img src="{% static 'image/fondo.png' %}" alt="Fondo PROGAMING" class="bg-fondo">

    <!-- Control animado encima -->
    <img src="{% static 'image/control.png' %}" alt="Control" class="float-control">

    <!-- Menú -->
    <div class="menu text-center">
      <nav>
        <ul>
          <li><a href="{% url 'libros' %}">Acción y Aventura</a></li>
          <li><a href="{% url 'categoria2' %}">Estrategia y Simulación</a></li>
          <li><a href="{% url 'categoria3' %}">Shooter</a></li>
          <li><a href="{% url 'categoria4' %}">Deportes y Carreras</a></li>
          <li><a href="{% url 'categoria5' %}">Terror</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- TÍTULO -->
  <h1 class="animate__animated animate__bounceIn">Shooter</h1>

  <!-- GALERÍA DE JUEGOS -->
  <section class="container my-5">
    <div class="row justify-content-center">
      <div class="col-12 col-md-6 col-lg-4 mb-4 animate__animated animate__fadeInLeft">
        <div class="juegos">
          <img src="{% static 'image/juego5.webp' %}" alt="Juego de acción y aventura">
          <h2>Zona de Combate Urbano</h2>
          <p class="descripcion-juego">Es un shooter en primera persona ambientado en una ciudad devastada por la guerra. El jugador asume el papel de un soldado de élite que debe infiltrarse en zonas de conflicto, eliminar amenazas enemigas y sobrevivir en medio del caos. Con efectos realistas, combates intensos y escenarios llenos de acción, este juego ofrece una experiencia inmersiva estilo Call of Duty o Battlefield.<br>
          </p>
          <h3>precio: $17.990 </h3>
          <button>Comprar</button>
        </div>
      </div>
      <div class="col-12 col-md-6 col-lg-4 mb-4 animate__animated animate__fadeInRight">
        <div class="juegos">
          <img src="{% static 'image/juego6.webp' %}" alt="Juego de acción y aventura">
          <h2>Invasión Estelar: Última Resistencia</h2>
          <p class="descripcion-juego">El jugador se convierte en un soldado del futuro equipado con armadura avanzada, enfrentando hordas de criaturas alienígenas en una estación espacial. Con ambientación oscura y luces de neón, este shooter de ciencia ficción combina combate frenético con estrategia táctica. Inspirado en clásicos como Halo o Doom, es ideal para quienes buscan adrenalina y tecnología futurista.</p>
          <h3>precio: $15.990 </h3>
          <button>Comprar</button>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-dark text-white text-center py-4">
    <p>&copy; PROGAMING 2025. Todos los derechos reservados.</p>
    <p>Contacto: Grupo 9 - Duoc UC</p>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
   <!-- Toast de cierre de sesión -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="logoutToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        ¡Has cerrado sesión correctamente!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Cerrar"></button>
    </div>
  </div>
</div>

<script>
  function cerrarSesion() {
    // Mostrar el toast
    const toastElement = document.getElementById('logoutToast');
    const toast = new bootstrap.Toast(toastElement);
    toast.show();

    // Esperar 2 segundos y redirigir al logout real
    setTimeout(() => {
      window.location.href = "{% url 'logout' %}";
    }, 2000);
  }
</script>
</body>
</html>
